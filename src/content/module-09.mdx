import Callout from '../components/Callout.astro';
import CommandTable from '../components/CommandTable.astro';

## Agentes de IA: tu asistente experto en la terminal

<Callout type="info" title="Módulo bonus — opcional">
  Este módulo es complementario. Los agentes de IA son herramientas poderosas pero opcionales, que requieren cuentas o API keys adicionales. Todo lo que necesitas para trabajar profesionalmente con Git ya lo aprendiste en los módulos anteriores.
</Callout>

Los **agentes de IA** son asistentes que funcionan directamente en tu terminal. Entienden tu código, pueden ejecutar comandos de Git y `gh`, crear archivos, hacer commits y hasta crear Pull Requests — todo con instrucciones en lenguaje natural.

Piensa en ellos como un programador senior sentado a tu lado, disponible 24/7, al que le puedes preguntar cualquier cosa.

---

### Claude Code

[Claude Code](https://docs.anthropic.com/en/docs/claude-code) es un agente de IA de Anthropic que vive en tu terminal. Puede leer tu código, ejecutar comandos, crear archivos, hacer commits y hasta crear Pull Requests.

**Instalación:**

```bash
npm install -g @anthropic-ai/claude-code
```

**Uso básico:**

```bash
# Iniciar Claude Code en tu proyecto
cd mi-proyecto
claude
```

Se abre una sesión interactiva donde puedes pedirle cosas como:

```
> Revisa mi código y dime si hay errores
> Crea un .gitignore apropiado para un proyecto Node.js
> Haz commit de todos los cambios con un buen mensaje
> Crea un Pull Request con descripción detallada
```

Claude Code puede usar `git` y `gh` directamente, así que puede:

- Hacer `git add`, `git commit` y `git push` por ti
- Crear Pull Requests con `gh pr create`
- Revisar el estado de tu repo con `git status`
- Resolver conflictos de merge explicándote qué está pasando

<Callout type="tip" title="Claude Code + Git = superpoder">
  En vez de recordar todos los comandos de Git, puedes decirle a Claude Code en lenguaje natural lo que quieres hacer:

  - "Guarda mis cambios con un mensaje descriptivo" → hace `git add` + `git commit`
  - "Sube mi rama y crea un PR" → hace `git push` + `gh pr create`
  - "¿Qué cambié desde el último commit?" → ejecuta `git diff`
  - "Vuelve al estado anterior" → ejecuta `git revert` o `git reset` según corresponda
</Callout>

---

### Gemini CLI

[Gemini CLI](https://github.com/google-gemini/gemini-cli) es el agente de IA de Google que también funciona en la terminal. Es open source y gratuito con tu cuenta de Google.

**Instalación:**

```bash
npm install -g @google/gemini-cli
```

**Uso básico:**

```bash
cd mi-proyecto
gemini
```

Al igual que Claude Code, puedes pedirle que interactúe con Git:

```
> Inicializa este proyecto con Git y haz el primer commit
> Muéstrame el historial de cambios
> Crea una rama para trabajar en el login
```

---

### GitHub Copilot CLI

Si tienes suscripción a [GitHub Copilot](https://github.com/features/copilot), también puedes usarlo desde la terminal con la extensión de `gh`:

```bash
# Instalar la extensión
gh extension install github/gh-copilot

# Pedir ayuda con comandos
gh copilot suggest "cómo deshacer el último commit sin perder cambios"
# Sugerencia: git reset --soft HEAD~1

gh copilot explain "git rebase -i HEAD~3"
# Te explica qué hace ese comando en detalle
```

<Callout type="info" title="¿Cuál agente elegir?">
  - **Claude Code**: Muy capaz para tareas complejas, entiende contexto del proyecto completo. Requiere API key de Anthropic.
  - **Gemini CLI**: Gratuito con cuenta de Google, open source, bueno para tareas generales.
  - **GitHub Copilot CLI**: Integrado con `gh`, perfecto para sugerencias de comandos Git. Requiere suscripción Copilot.

  Puedes probar los tres y quedarte con el que más te guste. Todos funcionan bien con Git y GitHub.
</Callout>

---

### Ejemplo práctico: flujo con un agente de IA

Así se ve un flujo de trabajo combinando `gh` (que aprendiste en el Módulo 7) y un agente de IA:

```bash
# 1. Crear un proyecto nuevo
mkdir mi-app && cd mi-app
git init
echo "# Mi App" > README.md
git add . && git commit -m "chore: commit inicial"
gh repo create mi-app --public --source=. --push

# 2. Iniciar tu agente de IA
claude  # o gemini, según tu preferencia

# 3. Pedirle al agente que trabaje
> Crea una estructura básica para una app web con HTML, CSS y JS
> Haz commit de los cambios
> Crea una rama feature/estilos y mejora el CSS
> Sube la rama y crea un PR

# 4. Revisar y mergear
gh pr view
gh pr merge --squash

# 5. Actualizar local
git switch main
git pull
```

---

### Ejercicios del módulo

**Ejercicio 1 (Exploración):** Si te interesa, instala uno de los agentes de IA y pruébalo en un proyecto de Git:

```bash
# Opción A: Claude Code
npm install -g @anthropic-ai/claude-code
cd tu-proyecto
claude

# Opción B: Gemini CLI
npm install -g @google/gemini-cli
cd tu-proyecto
gemini
```

Prueba pedirle: "Muéstrame el estado de Git de este proyecto" o "Haz commit de mis cambios con un buen mensaje".

**Ejercicio 2:** Si instalaste un agente, prueba un flujo completo:

```bash
# Inicia el agente en un proyecto con Git
# Pídele que cree una rama, haga cambios, commit y PR
# Verifica que los commits sigan Conventional Commits
```

<Callout type="info" title="Primero los fundamentos, después las herramientas">
  Los agentes de IA son aceleradores, no reemplazos. **Primero aprende los fundamentos** (los módulos 1 al 8 de este curso). Entender qué hace cada comando es esencial para poder verificar que las herramientas están haciendo lo correcto. Un agente que hace cosas que no entiendes es un riesgo, no una ayuda.
</Callout>
